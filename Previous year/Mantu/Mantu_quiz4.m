clc;
alpha = 0.090205499;
%y = beta0 + beta1*x1*x2*x3*x4*x3 + beta2*(x2^4) + beta3*(x3^3)*x4*x2 + beta4*x4*x1*x4*x4*x3;
%beta0

%change index, data
%for index, take the number and add 1 so if its beta0 index will be 1

index = 1;
data = [
    0 0 0 0 1.1909358;
    0.11234828 0.13337894 0.14835625 0.056435842 1.6119537;
    0.36814803 0.33228886 0.27690668 0.28305322 4.9187935;
    0.41192962 0.467962 0.46598152 0.22741469 3.6465001;
    0.70272656 0.37602964 0.79201519 0.72297586 4.6516267;
    0.45010705 0.95840431 0.84612092 0.50095049 5.0325453;
    0.56488441 0.38666505 0.33120082 0.68615743 2.9536715;
    0.78952339 1.2565662 0.57824566 0.41799674 6.8999383;
    1.1361657 0.52307146 1.2232486 0.97969615 11.84641;
    1.7904034 1.3455979 0.90468037 1.2428585 28.001678;
    1.8139657 1.2608979 1.8602916 1.0300935 53.74606;
    1.9095977 1.9972359 1.9758758 1.3298519 157.87797;
    1.058463 1.3244251 1.5843239 1.2038623 43.311561;
    2.2583264 2.5622497 1.7000727 2.1831319 413.857;
    2.3450165 2.4246443 2.5184951 2.6984799 999.29481;
    2.2550816 1.781245 0.94499103 1.4323213 61.739709;
    1.4948734 2.4818716 3.1284517 1.4110372 562.62629;
    1.2183665 3.1103619 3.3713888 2.2616305 1519.2347;
    2.9189479 2.309803 2.9598495 1.5779927 592.93805;
    3.5159797 2.1913078 3.1398972 3.5252236 3054.0934;
];

p = 5;
n = 20;

X = zeros(n,p);
Y = zeros(n,1);

for i=1:n
    Y(i,1) = data(i,5);
    X(i,1) = 1;
    X(i,2) = data(i,1);
    X(i,3) = data(i,2);
    X(i,4) = data(i,3);
    X(i,5) = data(i,4);
end

beta_cap = inv(X.'*X)*((X.')*Y)
Y_cap = X*beta_cap;

SSE = 0;
SST = 0;
sum = 0;

for i=1:n
    SSE = SSE + (Y(i) - Y_cap(i))^2;
    SST = SST + Y(i)^2;
    sum = sum + Y(i);
end

SST = SST - (sum^2)/n

disp("SSE=")
disp(SSE)

SSR = SST - SSE

R2 = 1 - SSE/SST

sigma = SSE/(n-p);

C = inv(X.'*X);
beta_low = beta_cap(index) - abs(tinv(alpha/2,n-p))*sqrt(sigma*C(index,index))
beta_high = beta_cap(index) + abs(tinv(alpha/2,n-p))*sqrt(sigma*C(index,index))


